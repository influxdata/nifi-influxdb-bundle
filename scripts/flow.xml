<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

         http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<flowController encoding-version="1.4">
  <maxTimerDrivenThreadCount>10</maxTimerDrivenThreadCount>
  <maxEventDrivenThreadCount>5</maxEventDrivenThreadCount>
  <registries/>
  <parameterContexts/>
  <rootGroup>
    <id>d347f265-0162-1000-bd0e-fbf9109cf0b1</id>
    <name>InfluxDB Demo</name>
    <position x="0.0" y="0.0"/>
    <comment/>
    <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
    <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
    <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
    <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
    <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
    <label>
      <id>01631000-efa4-184f-e581-a743d2fe812a</id>
      <zIndex>0</zIndex>
      <position x="1152.0" y="-408.0"/>
      <size height="170.00000762939453" width="416.8000030517578"/>
      <styles>
        <style name="font-size">12px</style>
      </styles>
      <value>Demo 2 User Story:


As NiFi user I want to store LineProtocol date into multiple environments
 - InfluxDB, InfluxDB 2.0, Kafka, ...</value>
    </label>
    <label>
      <id>280850da-016c-1000-bb1f-063422ae1933</id>
      <zIndex>0</zIndex>
      <position x="1152.0" y="-216.0"/>
      <size height="172.25083923339844" width="415.77381896972656"/>
      <styles>
        <style name="font-size">12px</style>
      </styles>
      <value>Demo 3 User Story:


As NiFi user I want to expose data from InfluxDB 2.0 on the particular
HTTP endpoint.

* AC1: Exposing a result of static Flux Query as data for HTML widget
* AC2: Transforming Flux Result to XML or JSON - remote API
 for server application</value>
    </label>
    <label>
      <id>684e0d7d-0163-1000-c97e-dee22f4f649c</id>
      <zIndex>0</zIndex>
      <position x="268.0609696699687" y="-600.9202250695664"/>
      <size height="560.0" width="472.0"/>
      <styles>
        <style name="font-size">14px</style>
      </styles>
      <value>NiFi-InfluxDB  integration demo
=========================

This demo shows how InfluxDB can be integrated with the
NiFi data processing framework. To enable seamless
integration we implemented following NiFi extensions:

* InfluxDatabaseService, InfluxDatabaseService_2 – more NiFi
processors in flow can reuse one InfluxDB connection configuration
(url, credentials)

* PutInfluxDatabase, PutInfluxDatabase_2 – processors
that puts InfluxDB Line Protocol data into InfluxDB

* PutInfluxDatabaseRecord, PutInfluxDatabaseRecord_2 – processors
that puts structured data (json, csv, text, avro) into InfluxDB
using NiFi Record readers/writers.

* GetInfluxDatabase_2, GetInfluxDatabaseRecord_2  – processors that
are able use Flux query to get records from InfluxDB 2.0


* InfluxLineProtocolReader – reader parses the InfluxDB Line Protocol
into NiFi Record. This allows filtering, partitioning line protocol data in
NiFi flow produced by Telegraf.

* InfluxLineProtocolRecordSetWriter – Writes the contents of a Record
Set as Line Protocol.</value>
    </label>
    <label>
      <id>684fefa4-0163-1000-542e-9343b5fa4f7f</id>
      <zIndex>0</zIndex>
      <position x="1152.0" y="-600.0"/>
      <size height="170.00000762939453" width="416.8000030517578"/>
      <styles>
        <style name="font-size">12px</style>
      </styles>
      <value>Demo 1 User Story:


As NiFi user I want to reliably monitor multiple environments
and be able to write data selectively.

* AC1: Partition and route metrics data using NiFi "Record Path language"
   by type of measurement (name of container)
</value>
    </label>
    <processGroup>
      <id>2807fffd-016c-1000-ff4c-eb46f296840c</id>
      <name>Exposing InfluxDB 2.0</name>
      <position x="752.0" y="-216.0"/>
      <comment/>
      <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
      <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
      <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
      <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
      <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
      <processor>
        <id>2cc8621f-016c-1000-e58f-c709476d6c4b</id>
        <name>GetInfluxDatabase_2</name>
        <position x="524.0000007746532" y="310.99998339115086"/>
        <styles/>
        <comment/>
        <class>org.influxdata.nifi.processors.GetInfluxDatabase_2</class>
        <bundle>
          <group>org.influxdata.nifi</group>
          <artifact>nifi-influx-database-nar</artifact>
          <version>1.25.0-SNAPSHOT</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>influxdb-service</name>
          <value>fe4e410d-016b-1000-f0e5-c2e5647eb06b</value>
        </property>
        <property>
          <name>influxdb-org</name>
          <value>influxdb-org-replacement-id</value>
        </property>
        <property>
          <name>influxdb-flux</name>
          <value>from(bucket: "my-bucket")
  |&gt; range(start: 0)
  |&gt; filter(fn: (r) =&gt; r._measurement == "tweets")
  |&gt; drop(columns: ["keyword", "lang", "user_verified"])
  |&gt; pivot(rowKey:["_time"], columnKey: ["_field"], valueColumn: "_value")
  |&gt; limit(n:1)
  |&gt; keep(columns: ["tweet_id", "screen_name", "text"])</value>
        </property>
        <property>
          <name>influxdb-dialect-header</name>
          <value>false</value>
        </property>
        <property>
          <name>influxdb-dialect-delimiter</name>
          <value>,</value>
        </property>
        <property>
          <name>influxdb-dialect-annotations</name>
        </property>
        <property>
          <name>influxdb-dialect-commentPrefix</name>
          <value>#</value>
        </property>
        <property>
          <name>influxdb-dialect-dateTimeFormat</name>
          <value>RFC3339</value>
        </property>
        <property>
          <name>influxdb-records-per-flowfile</name>
        </property>
        <property>
          <name>influxdb-enable-gzip</name>
          <value>false</value>
        </property>
        <property>
          <name>influxdb-log-level</name>
          <value>NONE</value>
        </property>
      </processor>
      <processor>
        <id>016c1014-7c72-1ddd-7680-39272d99c0d3</id>
        <name>FluxQueryHttpResponseError</name>
        <position x="2509.042782982263" y="1143.7824899706939"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.HandleHttpResponse</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>HTTP Status Code</name>
          <value>500</value>
        </property>
        <property>
          <name>HTTP Context Map</name>
          <value>2dda9865-016c-1000-0bcd-057d362e91d9</value>
        </property>
        <property>
          <name>Attributes to add to the HTTP Response (Regex)</name>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>2e171e29-016c-1000-e4f1-ef036647348b</id>
        <name>ResultToCSV</name>
        <position x="2375.6970012505108" y="840.1555937339665"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.ConvertRecord</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>record-reader</name>
          <value>016c1017-7c72-1ddd-67df-755e87a446bc</value>
        </property>
        <property>
          <name>record-writer</name>
          <value>2e23a967-016c-1000-f35f-9b5e5f528f69</value>
        </property>
        <property>
          <name>include-zero-record-flowfiles</name>
          <value>false</value>
        </property>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>016c1004-14ff-1cc8-92a9-fdb3b774af08</id>
        <name>AttributesToCSV</name>
        <position x="1201.7394661323692" y="308.4530191826416"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.AttributesToCSV</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>attribute-list</name>
          <value>influxdb.error.message</value>
        </property>
        <property>
          <name>attributes-regex</name>
        </property>
        <property>
          <name>destination</name>
          <value>flowfile-content</value>
        </property>
        <property>
          <name>include-core-attributes</name>
          <value>false</value>
        </property>
        <property>
          <name>null-value</name>
          <value>false</value>
        </property>
        <property>
          <name>include-schema</name>
          <value>false</value>
        </property>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>2ddc6b66-016c-1000-a3f3-c3b1a1f1322d</id>
        <name>GetInfluxDatabaseRecord_2</name>
        <position x="1964.3212903850317" y="311.6374653896246"/>
        <styles/>
        <comment/>
        <class>org.influxdata.nifi.processors.GetInfluxDatabaseRecord_2</class>
        <bundle>
          <group>org.influxdata.nifi</group>
          <artifact>nifi-influx-database-nar</artifact>
          <version>1.25.0-SNAPSHOT</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>influxdb-service</name>
          <value>fe4e410d-016b-1000-f0e5-c2e5647eb06b</value>
        </property>
        <property>
          <name>influxdb-record-writer-factory</name>
          <value>016c1005-7c72-1ddd-d1e6-2be2ded3ba26</value>
        </property>
        <property>
          <name>influxdb-org</name>
          <value>influxdb-org-replacement-id</value>
        </property>
        <property>
          <name>influxdb-flux</name>
          <value>${http.query.param.query}</value>
        </property>
        <property>
          <name>influxdb-dialect-dateTimeFormat</name>
          <value>RFC3339</value>
        </property>
        <property>
          <name>influxdb-records-per-flowfile</name>
        </property>
        <property>
          <name>influxdb-enable-gzip</name>
          <value>false</value>
        </property>
        <property>
          <name>influxdb-log-level</name>
          <value>NONE</value>
        </property>
      </processor>
      <processor>
        <id>016c1008-7c72-1ddd-fa1c-6247e2848b72</id>
        <name>AttributesToCSV</name>
        <position x="2601.611048163619" y="317.8098383354736"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.AttributesToCSV</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>attribute-list</name>
          <value>influxdb.error.message</value>
        </property>
        <property>
          <name>attributes-regex</name>
        </property>
        <property>
          <name>destination</name>
          <value>flowfile-content</value>
        </property>
        <property>
          <name>include-core-attributes</name>
          <value>false</value>
        </property>
        <property>
          <name>null-value</name>
          <value>false</value>
        </property>
        <property>
          <name>include-schema</name>
          <value>false</value>
        </property>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>2e15c3d4-016c-1000-598c-bfde67e12172</id>
        <name>RouteOnAttribute</name>
        <position x="1967.3138234737207" y="563.0157437512252"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.RouteOnAttribute</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>Routing Strategy</name>
          <value>Route to Property name</value>
        </property>
        <property>
          <name>json</name>
          <value>${http.query.param.accept:equals('json')}</value>
        </property>
        <property>
          <name>xml</name>
          <value>${http.query.param.accept:equals('xml')}</value>
        </property>
        <property>
          <name>csv</name>
          <value>${http.query.param.accept:equals('csv')}</value>
        </property>
      </processor>
      <processor>
        <id>2cc814ff-016c-1000-7d44-0e277649be12</id>
        <name>GetLastTweetResponseSuccess</name>
        <position x="334.00000077465324" y="595.9999833911509"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.HandleHttpResponse</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>HTTP Status Code</name>
          <value>200</value>
        </property>
        <property>
          <name>HTTP Context Map</name>
          <value>2ccadaf3-016c-1000-3585-f572bed12b5f</value>
        </property>
        <property>
          <name>Attributes to add to the HTTP Response (Regex)</name>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>016c1000-7c72-1ddd-a2c5-afa48afc0d7f</id>
        <name>ResultToXML</name>
        <position x="1972.6178885084128" y="839.1503020392828"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.ConvertRecord</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>record-reader</name>
          <value>016c1017-7c72-1ddd-67df-755e87a446bc</value>
        </property>
        <property>
          <name>record-writer</name>
          <value>2e22da0a-016c-1000-5173-6c8a70770bd9</value>
        </property>
        <property>
          <name>include-zero-record-flowfiles</name>
          <value>false</value>
        </property>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>016c1000-14ff-1cc8-fbce-f17ce2ba5c9f</id>
        <name>GetLastTweetResponseError</name>
        <position x="805.0000007746532" y="599.0013261645884"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.HandleHttpResponse</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>HTTP Status Code</name>
          <value>500</value>
        </property>
        <property>
          <name>HTTP Context Map</name>
          <value>2ccadaf3-016c-1000-3585-f572bed12b5f</value>
        </property>
        <property>
          <name>Attributes to add to the HTTP Response (Regex)</name>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>2cc7f304-016c-1000-4465-8b3735ddd138</id>
        <name>GetLastTweetHttpRequest</name>
        <position x="522.9916999934032" y="73.99859484134618"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.HandleHttpRequest</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>Listening Port</name>
          <value>8123</value>
        </property>
        <property>
          <name>Hostname</name>
        </property>
        <property>
          <name>SSL Context Service</name>
        </property>
        <property>
          <name>HTTP Protocols</name>
          <value>HTTP_1_1</value>
        </property>
        <property>
          <name>HTTP Context Map</name>
          <value>2ccadaf3-016c-1000-3585-f572bed12b5f</value>
        </property>
        <property>
          <name>Allowed Paths</name>
        </property>
        <property>
          <name>Default URL Character Set</name>
          <value>UTF-8</value>
        </property>
        <property>
          <name>Allow GET</name>
          <value>true</value>
        </property>
        <property>
          <name>Allow POST</name>
          <value>false</value>
        </property>
        <property>
          <name>Allow PUT</name>
          <value>false</value>
        </property>
        <property>
          <name>Allow DELETE</name>
          <value>false</value>
        </property>
        <property>
          <name>Allow HEAD</name>
          <value>false</value>
        </property>
        <property>
          <name>Allow OPTIONS</name>
          <value>false</value>
        </property>
        <property>
          <name>Maximum Threads</name>
          <value>200</value>
        </property>
        <property>
          <name>Additional HTTP Methods</name>
        </property>
        <property>
          <name>Client Authentication</name>
          <value>No Authentication</value>
        </property>
        <property>
          <name>container-queue-size</name>
          <value>50</value>
        </property>
        <property>
          <name>multipart-request-max-size</name>
          <value>1 MB</value>
        </property>
        <property>
          <name>multipart-read-buffer-size</name>
          <value>512 KB</value>
        </property>
        <property>
          <name>parameters-to-attributes</name>
        </property>
      </processor>
      <processor>
        <id>2dd9b57d-016c-1000-3d06-8f2a86b14885</id>
        <name>FluxQueryHttpRequest</name>
        <position x="1963.2833844838729" y="71.90792925745467"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.HandleHttpRequest</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>Listening Port</name>
          <value>8234</value>
        </property>
        <property>
          <name>Hostname</name>
        </property>
        <property>
          <name>SSL Context Service</name>
        </property>
        <property>
          <name>HTTP Protocols</name>
          <value>HTTP_1_1</value>
        </property>
        <property>
          <name>HTTP Context Map</name>
          <value>2dda9865-016c-1000-0bcd-057d362e91d9</value>
        </property>
        <property>
          <name>Allowed Paths</name>
        </property>
        <property>
          <name>Default URL Character Set</name>
          <value>UTF-8</value>
        </property>
        <property>
          <name>Allow GET</name>
          <value>true</value>
        </property>
        <property>
          <name>Allow POST</name>
          <value>true</value>
        </property>
        <property>
          <name>Allow PUT</name>
          <value>true</value>
        </property>
        <property>
          <name>Allow DELETE</name>
          <value>true</value>
        </property>
        <property>
          <name>Allow HEAD</name>
          <value>false</value>
        </property>
        <property>
          <name>Allow OPTIONS</name>
          <value>false</value>
        </property>
        <property>
          <name>Maximum Threads</name>
          <value>200</value>
        </property>
        <property>
          <name>Additional HTTP Methods</name>
        </property>
        <property>
          <name>Client Authentication</name>
          <value>No Authentication</value>
        </property>
        <property>
          <name>container-queue-size</name>
          <value>50</value>
        </property>
        <property>
          <name>multipart-request-max-size</name>
          <value>1 MB</value>
        </property>
        <property>
          <name>multipart-read-buffer-size</name>
          <value>512 KB</value>
        </property>
        <property>
          <name>parameters-to-attributes</name>
        </property>
      </processor>
      <processor>
        <id>2ddd7c72-016c-1000-adeb-839e5235afc1</id>
        <name>ResultToJSON</name>
        <position x="1571.8031912427875" y="843.569308386939"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.ConvertRecord</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>record-reader</name>
          <value>016c1017-7c72-1ddd-67df-755e87a446bc</value>
        </property>
        <property>
          <name>record-writer</name>
          <value>016c1018-7c72-1ddd-4f59-fbfb102a85f8</value>
        </property>
        <property>
          <name>include-zero-record-flowfiles</name>
          <value>false</value>
        </property>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>016c100a-7c72-1ddd-4591-18984291303c</id>
        <name>FluxQueryHttpResponseSuccess</name>
        <position x="1973.206113060388" y="1137.1494333300689"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.HandleHttpResponse</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>HTTP Status Code</name>
          <value>200</value>
        </property>
        <property>
          <name>HTTP Context Map</name>
          <value>2dda9865-016c-1000-0bcd-057d362e91d9</value>
        </property>
        <property>
          <name>Attributes to add to the HTTP Response (Regex)</name>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <label>
        <id>2d482d5d-016c-1000-847d-197f5090d957</id>
        <zIndex>0</zIndex>
        <position x="944.885437786372" y="73.15165956912938"/>
        <size height="99.0" width="390.0"/>
        <styles>
          <style name="font-size">14px</style>
        </styles>
        <value>Display last Tweet about Bitcoin or Ethereum:

- curl -i -X GET http://localhost:8123
- browser http://localhost:8123</value>
      </label>
      <label>
        <id>2e0425e5-016c-1000-396e-9ec849acbcc8</id>
        <zIndex>0</zIndex>
        <position x="2367.9879863725673" y="-105.71933163870858"/>
        <size height="392.00682067871094" width="465.29701232910156"/>
        <styles>
          <style name="font-size">12px</style>
        </styles>
        <value>CSV:

curl -i -X GET -G http://localhost:8234 \
 --data-urlencode 'accept=csv'  \
 --data-urlencode 'query=from(bucket: "my-bucket")
 |&gt; range(start: 0) |&gt; filter(fn: (r) =&gt; r._measurement == "docker_container_status")
 |&gt; pivot(rowKey:["_time"], columnKey: ["_field"], valueColumn: "_value")
 |&gt; limit(n:10, offset: 0)'

XML:

curl -i -X GET -G http://localhost:8234 \
 --data-urlencode 'accept=xml'  \
 --data-urlencode 'query=from(bucket: "my-bucket")
 |&gt; range(start: 0) |&gt; filter(fn: (r) =&gt; r._measurement == "docker_container_status")
 |&gt; pivot(rowKey:["_time"], columnKey: ["_field"], valueColumn: "_value")
 |&gt; limit(n:10, offset: 0)'

JSON:

curl -i -X GET -G http://localhost:8234 \
 --data-urlencode 'accept=json'  \
 --data-urlencode 'query=from(bucket: "my-bucket")
 |&gt; range(start: 0) |&gt; filter(fn: (r) =&gt; r._measurement == "docker_container_status")
 |&gt; pivot(rowKey:["_time"], columnKey: ["_field"], valueColumn: "_value")
 |&gt; limit(n:10, offset: 0)'</value>
      </label>
      <connection>
        <id>2e162b8d-016c-1000-ea24-6a925329588d</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2ddc6b66-016c-1000-a3f3-c3b1a1f1322d</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>2e15c3d4-016c-1000-598c-bfde67e12172</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>016c1005-14ff-1cc8-2cea-6d37206b85c6</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>016c1004-14ff-1cc8-92a9-fdb3b774af08</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>016c1000-14ff-1cc8-fbce-f17ce2ba5c9f</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>016c100c-7c72-1ddd-88a5-31e26904c64a</id>
        <name/>
        <bendPoints/>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>016c1000-7c72-1ddd-a2c5-afa48afc0d7f</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>016c100a-7c72-1ddd-4591-18984291303c</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>2e181aa1-016c-1000-2774-d8e89dbc3903</id>
        <name/>
        <bendPoints>
          <bendPoint x="2420.424072265625" y="765.7322998046875"/>
        </bendPoints>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2e15c3d4-016c-1000-598c-bfde67e12172</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>2e171e29-016c-1000-e4f1-ef036647348b</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>csv</relationship>
        <relationship>unmatched</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>2e180c3d-016c-1000-b6ee-841084f4867b</id>
        <name/>
        <bendPoints/>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2e171e29-016c-1000-e4f1-ef036647348b</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>016c100a-7c72-1ddd-4591-18984291303c</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>016c1016-7c72-1ddd-cc56-6dfea74bc830</id>
        <name/>
        <bendPoints>
          <bendPoint x="2780.0380859375" y="1073.9970397949219"/>
        </bendPoints>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>016c1008-7c72-1ddd-fa1c-6247e2848b72</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>016c1014-7c72-1ddd-7680-39272d99c0d3</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>2cc88cab-016c-1000-7a9a-cd441779b43a</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2cc7f304-016c-1000-4465-8b3735ddd138</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>2cc8621f-016c-1000-e58f-c709476d6c4b</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>2cc8aebb-016c-1000-2942-9f646d6a1b6f</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2cc8621f-016c-1000-e58f-c709476d6c4b</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>2cc814ff-016c-1000-7d44-0e277649be12</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>016c1006-14ff-1cc8-f4d9-9bbfcee456f7</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2cc8621f-016c-1000-e58f-c709476d6c4b</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>016c1004-14ff-1cc8-92a9-fdb3b774af08</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>failure</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>2cc8d671-016c-1000-7522-66d4f6881035</id>
        <name/>
        <bendPoints>
          <bendPoint x="941.063660442622" y="518.7672258227915"/>
          <bendPoint x="862.1730964777782" y="519.8350969165415"/>
        </bendPoints>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2cc8621f-016c-1000-e58f-c709476d6c4b</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>2cc8621f-016c-1000-e58f-c709476d6c4b</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>retry</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>016c1003-7c72-1ddd-6fbe-c21bafec5460</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2dd9b57d-016c-1000-3d06-8f2a86b14885</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>2ddc6b66-016c-1000-a3f3-c3b1a1f1322d</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>2e1e9f4c-016c-1000-587c-65b41fbf127e</id>
        <name/>
        <bendPoints>
          <bendPoint x="1872.5572509765625" y="765.7322387695312"/>
        </bendPoints>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2e15c3d4-016c-1000-598c-bfde67e12172</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>2ddd7c72-016c-1000-adeb-839e5235afc1</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>json</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>016c100b-7c72-1ddd-ee5f-dd6bb894c41a</id>
        <name/>
        <bendPoints/>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2ddd7c72-016c-1000-adeb-839e5235afc1</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>016c100a-7c72-1ddd-4591-18984291303c</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>2e1e8780-016c-1000-a402-e9e39c49bd77</id>
        <name/>
        <bendPoints/>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2e15c3d4-016c-1000-598c-bfde67e12172</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>016c1000-7c72-1ddd-a2c5-afa48afc0d7f</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>xml</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>016c1009-7c72-1ddd-d364-65b4275c3da3</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2ddc6b66-016c-1000-a3f3-c3b1a1f1322d</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>016c1008-7c72-1ddd-fa1c-6247e2848b72</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>failure</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>016c1006-7c72-1ddd-2fe4-8d637360efbc</id>
        <name/>
        <bendPoints>
          <bendPoint x="1821.7067884319067" y="329.21897784079647"/>
          <bendPoint x="1820.9902356975317" y="380.20786944235897"/>
        </bendPoints>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>2ddc6b66-016c-1000-a3f3-c3b1a1f1322d</sourceId>
        <sourceGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>2ddc6b66-016c-1000-a3f3-c3b1a1f1322d</destinationId>
        <destinationGroupId>2807fffd-016c-1000-ff4c-eb46f296840c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>retry</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <controllerService>
        <id>2dda9865-016c-1000-0bcd-057d362e91d9</id>
        <name>FluxQueryHttpContextMap</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.http.StandardHttpContextMap</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-http-context-map-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>Maximum Outstanding Requests</name>
          <value>5000</value>
        </property>
        <property>
          <name>Request Expiration</name>
          <value>1 min</value>
        </property>
      </controllerService>
      <controllerService>
        <id>2e22da0a-016c-1000-5173-6c8a70770bd9</id>
        <name>XMLRecordSetWriter</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.xml.XMLRecordSetWriter</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-record-serialization-services-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>Schema Write Strategy</name>
          <value>no-schema</value>
        </property>
        <property>
          <name>schema-cache</name>
        </property>
        <property>
          <name>schema-protocol-version</name>
          <value>1</value>
        </property>
        <property>
          <name>schema-access-strategy</name>
          <value>inherit-record-schema</value>
        </property>
        <property>
          <name>schema-registry</name>
        </property>
        <property>
          <name>schema-name</name>
          <value>${schema.name}</value>
        </property>
        <property>
          <name>schema-version</name>
        </property>
        <property>
          <name>schema-branch</name>
        </property>
        <property>
          <name>schema-text</name>
          <value>${avro.schema}</value>
        </property>
        <property>
          <name>Date Format</name>
        </property>
        <property>
          <name>Time Format</name>
        </property>
        <property>
          <name>Timestamp Format</name>
        </property>
        <property>
          <name>suppress_nulls</name>
          <value>never-suppress</value>
        </property>
        <property>
          <name>pretty_print_xml</name>
          <value>true</value>
        </property>
        <property>
          <name>omit_xml_declaration</name>
          <value>false</value>
        </property>
        <property>
          <name>root_tag_name</name>
          <value>records</value>
        </property>
        <property>
          <name>record_tag_name</name>
          <value>record</value>
        </property>
        <property>
          <name>array_wrapping</name>
          <value>no-wrapping</value>
        </property>
        <property>
          <name>array_tag_name</name>
        </property>
        <property>
          <name>Character Set</name>
          <value>UTF-8</value>
        </property>
      </controllerService>
      <controllerService>
        <id>2ccadaf3-016c-1000-3585-f572bed12b5f</id>
        <name>GetLastTweetHttpContextMap</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.http.StandardHttpContextMap</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-http-context-map-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>Maximum Outstanding Requests</name>
          <value>5000</value>
        </property>
        <property>
          <name>Request Expiration</name>
          <value>1 min</value>
        </property>
      </controllerService>
      <controllerService>
        <id>016c1017-7c72-1ddd-67df-755e87a446bc</id>
        <name>FluxQueryRecordReader</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.avro.AvroReader</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-record-serialization-services-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>schema-access-strategy</name>
          <value>embedded-avro-schema</value>
        </property>
        <property>
          <name>schema-registry</name>
        </property>
        <property>
          <name>schema-name</name>
          <value>${schema.name}</value>
        </property>
        <property>
          <name>schema-version</name>
        </property>
        <property>
          <name>schema-branch</name>
        </property>
        <property>
          <name>schema-text</name>
          <value>${avro.schema}</value>
        </property>
        <property>
          <name>cache-size</name>
          <value>1000</value>
        </property>
      </controllerService>
      <controllerService>
        <id>2e23a967-016c-1000-f35f-9b5e5f528f69</id>
        <name>CSVRecordSetWriter</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.csv.CSVRecordSetWriter</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-record-serialization-services-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>Schema Write Strategy</name>
          <value>no-schema</value>
        </property>
        <property>
          <name>schema-cache</name>
        </property>
        <property>
          <name>schema-protocol-version</name>
          <value>1</value>
        </property>
        <property>
          <name>schema-access-strategy</name>
          <value>inherit-record-schema</value>
        </property>
        <property>
          <name>schema-registry</name>
        </property>
        <property>
          <name>schema-name</name>
          <value>${schema.name}</value>
        </property>
        <property>
          <name>schema-version</name>
        </property>
        <property>
          <name>schema-branch</name>
        </property>
        <property>
          <name>schema-text</name>
          <value>${avro.schema}</value>
        </property>
        <property>
          <name>Date Format</name>
        </property>
        <property>
          <name>Time Format</name>
        </property>
        <property>
          <name>Timestamp Format</name>
        </property>
        <property>
          <name>CSV Format</name>
          <value>custom</value>
        </property>
        <property>
          <name>Value Separator</name>
          <value>,</value>
        </property>
        <property>
          <name>Include Header Line</name>
          <value>false</value>
        </property>
        <property>
          <name>Quote Character</name>
          <value>"</value>
        </property>
        <property>
          <name>Escape Character</name>
          <value>\</value>
        </property>
        <property>
          <name>Comment Marker</name>
        </property>
        <property>
          <name>Null String</name>
        </property>
        <property>
          <name>Trim Fields</name>
          <value>true</value>
        </property>
        <property>
          <name>Quote Mode</name>
          <value>MINIMAL</value>
        </property>
        <property>
          <name>Record Separator</name>
          <value>\n</value>
        </property>
        <property>
          <name>Include Trailing Delimiter</name>
          <value>false</value>
        </property>
        <property>
          <name>csvutils-character-set</name>
          <value>UTF-8</value>
        </property>
      </controllerService>
      <controllerService>
        <id>016c1018-7c72-1ddd-4f59-fbfb102a85f8</id>
        <name>JsonRecordSetWriter</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.json.JsonRecordSetWriter</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-record-serialization-services-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>Schema Write Strategy</name>
          <value>no-schema</value>
        </property>
        <property>
          <name>schema-cache</name>
        </property>
        <property>
          <name>schema-protocol-version</name>
          <value>1</value>
        </property>
        <property>
          <name>schema-access-strategy</name>
          <value>inherit-record-schema</value>
        </property>
        <property>
          <name>schema-registry</name>
        </property>
        <property>
          <name>schema-name</name>
          <value>${schema.name}</value>
        </property>
        <property>
          <name>schema-version</name>
        </property>
        <property>
          <name>schema-branch</name>
        </property>
        <property>
          <name>schema-text</name>
          <value>${avro.schema}</value>
        </property>
        <property>
          <name>Date Format</name>
        </property>
        <property>
          <name>Time Format</name>
        </property>
        <property>
          <name>Timestamp Format</name>
        </property>
        <property>
          <name>Pretty Print JSON</name>
          <value>true</value>
        </property>
        <property>
          <name>suppress-nulls</name>
          <value>never-suppress</value>
        </property>
        <property>
          <name>output-grouping</name>
          <value>output-array</value>
        </property>
        <property>
          <name>compression-format</name>
          <value>none</value>
        </property>
        <property>
          <name>compression-level</name>
          <value>1</value>
        </property>
      </controllerService>
      <controllerService>
        <id>016c1005-7c72-1ddd-d1e6-2be2ded3ba26</id>
        <name>FluxQueryRecordSetWriter</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.avro.AvroRecordSetWriter</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-record-serialization-services-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>Schema Write Strategy</name>
          <value>avro-embedded</value>
        </property>
        <property>
          <name>schema-cache</name>
        </property>
        <property>
          <name>schema-protocol-version</name>
          <value>1</value>
        </property>
        <property>
          <name>schema-access-strategy</name>
          <value>inherit-record-schema</value>
        </property>
        <property>
          <name>schema-registry</name>
        </property>
        <property>
          <name>schema-name</name>
          <value>${schema.name}</value>
        </property>
        <property>
          <name>schema-version</name>
        </property>
        <property>
          <name>schema-branch</name>
        </property>
        <property>
          <name>schema-text</name>
          <value>${avro.schema}</value>
        </property>
        <property>
          <name>compression-format</name>
          <value>NONE</value>
        </property>
        <property>
          <name>cache-size</name>
          <value>1000</value>
        </property>
        <property>
          <name>encoder-pool-size</name>
          <value>32</value>
        </property>
      </controllerService>
    </processGroup>
    <processGroup>
      <id>0d3a59b3-016b-1000-3219-73ec601dca9c</id>
      <name>KafkaDemo</name>
      <position x="752.0" y="-408.0"/>
      <comment/>
      <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
      <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
      <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
      <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
      <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
      <processor>
        <id>bd0efd4c-3086-3c99-dc9e-5811b2c3ca87</id>
        <name>TailFile</name>
        <position x="447.2941283146255" y="166.52926883734335"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.TailFile</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>5 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>tail-mode</name>
          <value>Single file</value>
        </property>
        <property>
          <name>File to Tail</name>
          <value>./logs/nifi-app.log</value>
        </property>
        <property>
          <name>Rolling Filename Pattern</name>
        </property>
        <property>
          <name>Post-Rollover Tail Period</name>
          <value>0 sec</value>
        </property>
        <property>
          <name>tail-base-directory</name>
        </property>
        <property>
          <name>Initial Start Position</name>
          <value>Beginning of File</value>
        </property>
        <property>
          <name>File Location</name>
          <value>Local</value>
        </property>
        <property>
          <name>tailfile-recursive-lookup</name>
          <value>false</value>
        </property>
        <property>
          <name>tailfile-lookup-frequency</name>
          <value>10 minutes</value>
        </property>
        <property>
          <name>tailfile-maximum-age</name>
          <value>24 hours</value>
        </property>
        <property>
          <name>reread-on-nul</name>
          <value>false</value>
        </property>
        <property>
          <name>Line Start Pattern</name>
        </property>
        <property>
          <name>pre-allocated-buffer-size</name>
          <value>65536 B</value>
        </property>
        <property>
          <name>Max Buffer Size</name>
          <value>64 KB</value>
        </property>
      </processor>
      <processor>
        <id>0d7ad789-016b-1000-952f-d20e18a0390b</id>
        <name>ErrorLog</name>
        <position x="1047.7962645450943" y="963.886468413549"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.PutFile</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>Directory</name>
          <value>/opt/nifi/influx-err</value>
        </property>
        <property>
          <name>Conflict Resolution Strategy</name>
          <value>fail</value>
        </property>
        <property>
          <name>Create Missing Directories</name>
          <value>true</value>
        </property>
        <property>
          <name>Maximum File Count</name>
        </property>
        <property>
          <name>Last Modified Time</name>
        </property>
        <property>
          <name>Permissions</name>
        </property>
        <property>
          <name>Owner</name>
        </property>
        <property>
          <name>Group</name>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>0da4cb96-016b-1000-471a-93377cc20d0d</id>
        <name>PublishKafka_1_0</name>
        <position x="1047.893615619313" y="682.185540679174"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.kafka.pubsub.PublishKafka_1_0</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-kafka-1-0-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>bootstrap.servers</name>
          <value>kafka:9092</value>
        </property>
        <property>
          <name>security.protocol</name>
          <value>PLAINTEXT</value>
        </property>
        <property>
          <name>sasl.kerberos.service.name</name>
        </property>
        <property>
          <name>sasl.kerberos.principal</name>
        </property>
        <property>
          <name>sasl.kerberos.keytab</name>
        </property>
        <property>
          <name>ssl.context.service</name>
        </property>
        <property>
          <name>topic</name>
          <value>nifi-log</value>
        </property>
        <property>
          <name>acks</name>
          <value>0</value>
        </property>
        <property>
          <name>use-transactions</name>
          <value>false</value>
        </property>
        <property>
          <name>transactional-id-prefix</name>
        </property>
        <property>
          <name>attribute-name-regex</name>
        </property>
        <property>
          <name>message-header-encoding</name>
          <value>UTF-8</value>
        </property>
        <property>
          <name>kafka-key</name>
        </property>
        <property>
          <name>key-attribute-encoding</name>
          <value>utf-8</value>
        </property>
        <property>
          <name>message-demarcator</name>
        </property>
        <property>
          <name>max.request.size</name>
          <value>1 MB</value>
        </property>
        <property>
          <name>ack.wait.time</name>
          <value>5 secs</value>
        </property>
        <property>
          <name>max.block.ms</name>
          <value>5 sec</value>
        </property>
        <property>
          <name>partitioner.class</name>
          <value>org.apache.kafka.clients.producer.internals.DefaultPartitioner</value>
        </property>
        <property>
          <name>partition</name>
        </property>
        <property>
          <name>compression.type</name>
          <value>none</value>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>8e439369-8abd-33e5-8251-df20a0c3a080</id>
        <name>Set schema.name = nifi-logs</name>
        <position x="1040.7052611271256" y="168.7992698634639"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.attributes.UpdateAttribute</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-update-attribute-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>Delete Attributes Expression</name>
        </property>
        <property>
          <name>Store State</name>
          <value>Do not store state</value>
        </property>
        <property>
          <name>Stateful Variables Initial Value</name>
        </property>
        <property>
          <name>canonical-value-lookup-cache-size</name>
          <value>100</value>
        </property>
        <property>
          <name>schema.name</name>
          <value>nifi-logs</value>
        </property>
      </processor>
      <processor>
        <id>9993347a-5fbd-1c2b-a6cf-829e9b16c88d</id>
        <name>PutInfluxDatabase</name>
        <position x="529.3148192325943" y="687.9812560112052"/>
        <styles/>
        <comment/>
        <class>org.influxdata.nifi.processors.PutInfluxDatabase</class>
        <bundle>
          <group>org.influxdata.nifi</group>
          <artifact>nifi-influx-database-nar</artifact>
          <version>1.25.0-SNAPSHOT</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>influxdb-dbname</name>
          <value>kafka_influxdb_demo</value>
        </property>
        <property>
          <name>influxdb-url</name>
          <value>http://influxdb:8086</value>
        </property>
        <property>
          <name>InfluxDB Max Connection Time Out (seconds)</name>
          <value>0 seconds</value>
        </property>
        <property>
          <name>influxdb-username</name>
        </property>
        <property>
          <name>influxdb-password</name>
        </property>
        <property>
          <name>influxdb-charset</name>
          <value>UTF-8</value>
        </property>
        <property>
          <name>influxdb-consistency-level</name>
          <value>ONE</value>
        </property>
        <property>
          <name>influxdb-retention-policy</name>
          <value>autogen</value>
        </property>
        <property>
          <name>influxdb-timestamp-precision</name>
        </property>
        <property>
          <name>influxdb-max-records-size</name>
          <value>1 MB</value>
        </property>
        <property>
          <name>influxdb-client-type</name>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>dfceea1c-016b-1000-b2ce-2d172775840b</id>
        <name>PutInfluxDatabase_2</name>
        <position x="1554.6283157896366" y="672.7129823529132"/>
        <styles/>
        <comment/>
        <class>org.influxdata.nifi.processors.PutInfluxDatabase_2</class>
        <bundle>
          <group>org.influxdata.nifi</group>
          <artifact>nifi-influx-database-nar</artifact>
          <version>1.25.0-SNAPSHOT</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>influxdb-service</name>
          <value>fe4e410d-016b-1000-f0e5-c2e5647eb06b</value>
        </property>
        <property>
          <name>influxdb-bucket</name>
          <value>my-bucket</value>
        </property>
        <property>
          <name>influxdb-org</name>
          <value>my-org</value>
        </property>
        <property>
          <name>influxdb-write-precision</name>
          <value>NS</value>
        </property>
        <property>
          <name>influxdb-enable-gzip</name>
          <value>false</value>
        </property>
        <property>
          <name>influxdb-log-level</name>
          <value>NONE</value>
        </property>
        <property>
          <name>influxdb-charset</name>
          <value>UTF-8</value>
        </property>
        <property>
          <name>influxdb-max-records-size</name>
          <value>1 MB</value>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>99933473-5fbd-1c2b-1678-b21f261c56f6</id>
        <name>ConvertRecord</name>
        <position x="1048.9378661075943" y="395.47481680222086"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.ConvertRecord</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>record-reader</name>
          <value>1bb1d190-8746-3f5b-c093-edce7fa003d3</value>
        </property>
        <property>
          <name>record-writer</name>
          <value>99933468-5fbd-1c2b-19a4-dd742b4530a2</value>
        </property>
        <property>
          <name>include-zero-record-flowfiles</name>
          <value>false</value>
        </property>
      </processor>
      <connection>
        <id>dfcf19c8-016b-1000-e323-ae40deca4ffd</id>
        <name/>
        <bendPoints/>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>dfceea1c-016b-1000-b2ce-2d172775840b</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>0d7ad789-016b-1000-952f-d20e18a0390b</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>failure</relationship>
        <relationship>failure-max-size</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>9993347f-5fbd-1c2b-3854-9c3408748d94</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>99933473-5fbd-1c2b-1678-b21f261c56f6</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>9993347a-5fbd-1c2b-a6cf-829e9b16c88d</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>dfcf3302-016b-1000-50de-901254d75111</id>
        <name/>
        <bendPoints>
          <bendPoint x="1825.7943619322148" y="605.5740053021319"/>
          <bendPoint x="1743.2428482603398" y="599.7199403607257"/>
        </bendPoints>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>dfceea1c-016b-1000-b2ce-2d172775840b</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>dfceea1c-016b-1000-b2ce-2d172775840b</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>retry</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>2cbdd209-016c-1000-1744-d4490f5f34e4</id>
        <name/>
        <bendPoints>
          <bendPoint x="1680.3350830078125" y="461.7422790527344"/>
          <bendPoint x="1945.09326171875" y="461.87225341796875"/>
          <bendPoint x="1945.5025634765625" y="1025.9285888671875"/>
        </bendPoints>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>99933473-5fbd-1c2b-1678-b21f261c56f6</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>0d7ad789-016b-1000-952f-d20e18a0390b</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>failure</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>ff1e4b87-4228-3a21-05f8-ebcbeaec9bf4</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>bd0efd4c-3086-3c99-dc9e-5811b2c3ca87</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>8e439369-8abd-33e5-8251-df20a0c3a080</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>dfcfc8bf-016b-1000-bd12-c3b58f52ab0f</id>
        <name/>
        <bendPoints/>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>99933473-5fbd-1c2b-1678-b21f261c56f6</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>dfceea1c-016b-1000-b2ce-2d172775840b</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>99933475-5fbd-1c2b-e7b7-3718cf6b038a</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>8e439369-8abd-33e5-8251-df20a0c3a080</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>99933473-5fbd-1c2b-1678-b21f261c56f6</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>0da6623e-016b-1000-c50c-ff38a280e2c3</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>0da4cb96-016b-1000-471a-93377cc20d0d</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>0d7ad789-016b-1000-952f-d20e18a0390b</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>failure</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>9993347e-5fbd-1c2b-e9aa-62ed6628b6f2</id>
        <name/>
        <bendPoints>
          <bendPoint x="690.7272337833756" y="623.0633177787834"/>
          <bendPoint x="731.9661864200943" y="612.6364989311271"/>
        </bendPoints>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>9993347a-5fbd-1c2b-a6cf-829e9b16c88d</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>9993347a-5fbd-1c2b-a6cf-829e9b16c88d</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>retry</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>0da60d67-016b-1000-fa3f-6c52c70f7a53</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>99933473-5fbd-1c2b-1678-b21f261c56f6</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>0da4cb96-016b-1000-471a-93377cc20d0d</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>0d7bd083-016b-1000-b4e2-03b0a13b70d3</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>9993347a-5fbd-1c2b-a6cf-829e9b16c88d</sourceId>
        <sourceGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>0d7ad789-016b-1000-952f-d20e18a0390b</destinationId>
        <destinationGroupId>0d3a59b3-016b-1000-3219-73ec601dca9c</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>failure</relationship>
        <relationship>failure-max-size</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <controllerService>
        <id>e1d48f9f-ef95-3ac5-ada4-eaf3b250ff7c</id>
        <name>JsonRecordSetWriter</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.json.JsonRecordSetWriter</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-record-serialization-services-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>Schema Write Strategy</name>
          <value>schema-name</value>
        </property>
        <property>
          <name>schema-cache</name>
        </property>
        <property>
          <name>schema-protocol-version</name>
          <value>1</value>
        </property>
        <property>
          <name>schema-access-strategy</name>
          <value>schema-name</value>
        </property>
        <property>
          <name>schema-registry</name>
          <value>01fe7c27-dec5-320d-fcb4-f913797de2f8</value>
        </property>
        <property>
          <name>schema-name</name>
          <value>${schema.name}</value>
        </property>
        <property>
          <name>schema-version</name>
        </property>
        <property>
          <name>schema-branch</name>
        </property>
        <property>
          <name>schema-text</name>
          <value>${avro.schema}</value>
        </property>
        <property>
          <name>Date Format</name>
        </property>
        <property>
          <name>Time Format</name>
        </property>
        <property>
          <name>Timestamp Format</name>
        </property>
        <property>
          <name>Pretty Print JSON</name>
          <value>true</value>
        </property>
        <property>
          <name>suppress-nulls</name>
          <value>never-suppress</value>
        </property>
        <property>
          <name>output-grouping</name>
          <value>output-array</value>
        </property>
        <property>
          <name>compression-format</name>
          <value>none</value>
        </property>
        <property>
          <name>compression-level</name>
          <value>1</value>
        </property>
      </controllerService>
      <controllerService>
        <id>99933468-5fbd-1c2b-19a4-dd742b4530a2</id>
        <name>InfluxLineProtocolRecordSetWriter</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.influxdata.nifi.serialization.InfluxLineProtocolRecordSetWriter</class>
        <bundle>
          <group>org.influxdata.nifi</group>
          <artifact>nifi-influx-database-nar</artifact>
          <version>1.25.0-SNAPSHOT</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>influxdb-measurement</name>
          <value>nifi_logs</value>
        </property>
        <property>
          <name>influxdb-tags</name>
          <value>level,thread</value>
        </property>
        <property>
          <name>influxdb-tags-field-behavior</name>
          <value>IGNORE</value>
        </property>
        <property>
          <name>influxdb-fields</name>
          <value>class,message</value>
        </property>
        <property>
          <name>influxdb-fields-field-behavior</name>
          <value>IGNORE</value>
        </property>
        <property>
          <name>influxdb-timestamp-field</name>
          <value>timestamp</value>
        </property>
        <property>
          <name>influxdb-timestamp-precision</name>
          <value>NANOSECONDS</value>
        </property>
        <property>
          <name>influxdb-complex-field-behavior</name>
          <value>TEXT</value>
        </property>
        <property>
          <name>influxdb-null-behavior</name>
          <value>IGNORE</value>
        </property>
        <property>
          <name>influxdb-character-set</name>
          <value>UTF-8</value>
        </property>
      </controllerService>
      <controllerService>
        <id>1bb1d190-8746-3f5b-c093-edce7fa003d3</id>
        <name>GrokReader</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.grok.GrokReader</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-record-serialization-services-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>schema-access-strategy</name>
          <value>schema-name</value>
        </property>
        <property>
          <name>schema-registry</name>
          <value>01fe7c27-dec5-320d-fcb4-f913797de2f8</value>
        </property>
        <property>
          <name>schema-name</name>
          <value>${schema.name}</value>
        </property>
        <property>
          <name>schema-version</name>
        </property>
        <property>
          <name>schema-branch</name>
        </property>
        <property>
          <name>schema-text</name>
          <value>${avro.schema}</value>
        </property>
        <property>
          <name>Grok Pattern File</name>
        </property>
        <property>
          <name>Grok Expression</name>
          <value>%{TIMESTAMP_ISO8601:timestamp} %{LOGLEVEL:level} \[%{DATA:thread}\] %{DATA:class} %{GREEDYDATA:message}</value>
        </property>
        <property>
          <name>no-match-behavior</name>
          <value>append-to-previous-message</value>
        </property>
      </controllerService>
      <controllerService>
        <id>01fe7c27-dec5-320d-fcb4-f913797de2f8</id>
        <name>AvroSchemaRegistry</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.schemaregistry.services.AvroSchemaRegistry</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-registry-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>avro-reg-validated-field-names</name>
          <value>true</value>
        </property>
        <property>
          <name>nifi-logs</name>
          <value>{
"type": "record",
"name": "nifi_logs",
"fields": [
   { "name": "timestamp", "type" : {
        "type" : "long",
        "logicalType" : "timestamp-millis"
      } },
   { "name": "level", "type": "string" },
   { "name": "thread", "type": "string" },
   { "name": "class", "type": "string" },
   { "name": "message", "type": "string" },
   { "name": "stackTrace", "type": "string" }
  ]
}</value>
        </property>
      </controllerService>
    </processGroup>
    <processGroup>
      <id>4e5add98-0163-1000-37c6-a81f1b8d947e</id>
      <name>TelegrafDemo</name>
      <position x="752.0" y="-600.0"/>
      <comment/>
      <flowfileConcurrency>UNBOUNDED</flowfileConcurrency>
      <flowfileOutboundPolicy>STREAM_WHEN_AVAILABLE</flowfileOutboundPolicy>
      <defaultFlowFileExpiration>0 sec</defaultFlowFileExpiration>
      <defaultBackPressureObjectThreshold>10000</defaultBackPressureObjectThreshold>
      <defaultBackPressureDataSizeThreshold>1 GB</defaultBackPressureDataSizeThreshold>
      <processor>
        <id>5ea1e9b1-0163-1000-d88e-eecbd44bb920</id>
        <name>LogAttribute</name>
        <position x="1727.7763744367746" y="140.6037145043457"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.LogAttribute</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>Log Level</name>
          <value>info</value>
        </property>
        <property>
          <name>Log Payload</name>
          <value>false</value>
        </property>
        <property>
          <name>Attributes to Log</name>
          <value>container_name</value>
        </property>
        <property>
          <name>attributes-to-log-regex</name>
          <value>.*</value>
        </property>
        <property>
          <name>Attributes to Ignore</name>
        </property>
        <property>
          <name>attributes-to-ignore-regex</name>
        </property>
        <property>
          <name>Log FlowFile Properties</name>
          <value>true</value>
        </property>
        <property>
          <name>Output Format</name>
          <value>Line per Attribute</value>
        </property>
        <property>
          <name>Log prefix</name>
        </property>
        <property>
          <name>character-set</name>
          <value>UTF-8</value>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>5e62f804-0163-1000-18ea-70da8664cfd0</id>
        <name>PartitionRecord</name>
        <position x="1029.6731741842975" y="-116.33684730234859"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.PartitionRecord</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>record-reader</name>
          <value>4e5e71b8-0163-1000-1b27-632f18180d23</value>
        </property>
        <property>
          <name>record-writer</name>
          <value>4e5c0c97-0163-1000-54a6-5c1fd2473b42</value>
        </property>
        <property>
          <name>container_name</name>
          <value>/tags['container_name']</value>
        </property>
        <autoTerminatedRelationship>original</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>4e5db836-0163-1000-1118-1b4cbc65e367</id>
        <name>PutInfluxDatabaseRecord</name>
        <position x="736.5845336914062" y="396.30047607421875"/>
        <styles/>
        <comment/>
        <class>org.influxdata.nifi.processors.PutInfluxDatabaseRecord</class>
        <bundle>
          <group>org.influxdata.nifi</group>
          <artifact>nifi-influx-database-nar</artifact>
          <version>1.25.0-SNAPSHOT</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>record-reader</name>
          <value>4e5e71b8-0163-1000-1b27-632f18180d23</value>
        </property>
        <property>
          <name>influxdb-service</name>
          <value>4e5f049b-0163-1000-382d-fa0c6125d08d</value>
        </property>
        <property>
          <name>influxdb-dbname</name>
          <value>telegraf_nifi_demo</value>
        </property>
        <property>
          <name>influxdb-enable-gzip</name>
          <value>false</value>
        </property>
        <property>
          <name>influxdb-log-level</name>
          <value>NONE</value>
        </property>
        <property>
          <name>influxdb-consistency-level</name>
          <value>ONE</value>
        </property>
        <property>
          <name>influxdb-retention-policy</name>
          <value>autogen</value>
        </property>
        <property>
          <name>influxdb-enable-batch</name>
          <value>false</value>
        </property>
        <property>
          <name>influxdb-batch-flush-duration</name>
          <value>1000 ms</value>
        </property>
        <property>
          <name>influxdb-batch-actions</name>
          <value>1000</value>
        </property>
        <property>
          <name>influxdb-batch-jitter-duration</name>
          <value>0 ms</value>
        </property>
        <property>
          <name>influxdb-batch-buffer-limit</name>
          <value>10000</value>
        </property>
        <property>
          <name>influxdb-measurement</name>
          <value>measurement</value>
        </property>
        <property>
          <name>influxdb-tags</name>
          <value>tags</value>
        </property>
        <property>
          <name>influxdb-tags-field-behavior</name>
          <value>IGNORE</value>
        </property>
        <property>
          <name>influxdb-fields</name>
          <value>fields</value>
        </property>
        <property>
          <name>influxdb-fields-field-behavior</name>
          <value>IGNORE</value>
        </property>
        <property>
          <name>influxdb-timestamp-field</name>
          <value>timestamp</value>
        </property>
        <property>
          <name>influxdb-timestamp-precision</name>
          <value>NANOSECONDS</value>
        </property>
        <property>
          <name>influxdb-complex-field-behavior</name>
          <value>TEXT</value>
        </property>
        <property>
          <name>influxdb-null-behavior</name>
          <value>IGNORE</value>
        </property>
        <property>
          <name>influxdb-max-records-size</name>
          <value>1 MB</value>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>5e7b1a3d-0163-1000-92bd-215d0d973049</id>
        <name>RouteOnAttribute</name>
        <position x="1030.0520768019476" y="143.37669783795178"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.RouteOnAttribute</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>Routing Strategy</name>
          <value>Route to Property name</value>
        </property>
        <property>
          <name>other_containers</name>
          <value>${container_name:equals('nifi'):not()}</value>
        </property>
        <property>
          <name>nifi_container</name>
          <value>${container_name:equals('nifi')}</value>
        </property>
      </processor>
      <processor>
        <id>fe47dd7d-016b-1000-54bc-60debdada912</id>
        <name>PutInfluxDatabaseRecord_2</name>
        <position x="1365.1265878046115" y="390.9705499927852"/>
        <styles/>
        <comment/>
        <class>org.influxdata.nifi.processors.PutInfluxDatabaseRecord_2</class>
        <bundle>
          <group>org.influxdata.nifi</group>
          <artifact>nifi-influx-database-nar</artifact>
          <version>1.25.0-SNAPSHOT</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>record-reader</name>
          <value>4e5e71b8-0163-1000-1b27-632f18180d23</value>
        </property>
        <property>
          <name>influxdb-service</name>
          <value>fe4e410d-016b-1000-f0e5-c2e5647eb06b</value>
        </property>
        <property>
          <name>influxdb-bucket</name>
          <value>my-bucket</value>
        </property>
        <property>
          <name>influxdb-org</name>
          <value>my-org</value>
        </property>
        <property>
          <name>influxdb-enable-gzip</name>
          <value>false</value>
        </property>
        <property>
          <name>influxdb-log-level</name>
          <value>NONE</value>
        </property>
        <property>
          <name>influxdb-measurement</name>
          <value>measurement</value>
        </property>
        <property>
          <name>influxdb-tags</name>
          <value>tags</value>
        </property>
        <property>
          <name>influxdb-tags-field-behavior</name>
          <value>IGNORE</value>
        </property>
        <property>
          <name>influxdb-fields</name>
          <value>fields</value>
        </property>
        <property>
          <name>influxdb-fields-field-behavior</name>
          <value>IGNORE</value>
        </property>
        <property>
          <name>influxdb-timestamp-field</name>
          <value>timestamp</value>
        </property>
        <property>
          <name>influxdb-write-precision</name>
          <value>NS</value>
        </property>
        <property>
          <name>influxdb-complex-field-behavior</name>
          <value>TEXT</value>
        </property>
        <property>
          <name>influxdb-null-behavior</name>
          <value>IGNORE</value>
        </property>
        <property>
          <name>influxdb-max-records-size</name>
          <value>1 MB</value>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>4e6785e3-0163-1000-d555-63c86866c915</id>
        <name>ErrorLog</name>
        <position x="1050.677001953125" y="634.3519897460938"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.PutFile</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>Directory</name>
          <value>/opt/nifi/influx-err</value>
        </property>
        <property>
          <name>Conflict Resolution Strategy</name>
          <value>fail</value>
        </property>
        <property>
          <name>Create Missing Directories</name>
          <value>true</value>
        </property>
        <property>
          <name>Maximum File Count</name>
        </property>
        <property>
          <name>Last Modified Time</name>
        </property>
        <property>
          <name>Permissions</name>
        </property>
        <property>
          <name>Owner</name>
        </property>
        <property>
          <name>Group</name>
        </property>
        <autoTerminatedRelationship>success</autoTerminatedRelationship>
        <autoTerminatedRelationship>failure</autoTerminatedRelationship>
      </processor>
      <processor>
        <id>4e5b2c92-0163-1000-7a79-8d3988c15bdc</id>
        <name>ListenTelegraf</name>
        <position x="433.5194091796875" y="-116.39844131469727"/>
        <styles/>
        <comment/>
        <class>org.apache.nifi.processors.standard.ListenTCPRecord</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-standard-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <maxConcurrentTasks>1</maxConcurrentTasks>
        <schedulingPeriod>0 sec</schedulingPeriod>
        <penalizationPeriod>30 sec</penalizationPeriod>
        <yieldPeriod>1 sec</yieldPeriod>
        <bulletinLevel>WARN</bulletinLevel>
        <lossTolerant>false</lossTolerant>
        <scheduledState>RUNNING</scheduledState>
        <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>
        <executionNode>ALL</executionNode>
        <runDurationNanos>0</runDurationNanos>
        <retryCount>10</retryCount>
        <backoffMechanism>PENALIZE_FLOWFILE</backoffMechanism>
        <maxBackoffPeriod>10 mins</maxBackoffPeriod>
        <property>
          <name>Local Network Interface</name>
        </property>
        <property>
          <name>port</name>
          <value>6666</value>
        </property>
        <property>
          <name>max-size-socket-buffer</name>
          <value>1 MB</value>
        </property>
        <property>
          <name>max-number-tcp-connections</name>
          <value>2</value>
        </property>
        <property>
          <name>read-timeout</name>
          <value>10 seconds</value>
        </property>
        <property>
          <name>record-reader</name>
          <value>4e5d390f-0163-1000-cdc5-67622a91c9ab</value>
        </property>
        <property>
          <name>record-writer</name>
          <value>4e5c0c97-0163-1000-54a6-5c1fd2473b42</value>
        </property>
        <property>
          <name>reader-error-handling-strategy</name>
          <value>Transfer</value>
        </property>
        <property>
          <name>record-batch-size</name>
          <value>1</value>
        </property>
        <property>
          <name>ssl-context-service</name>
        </property>
        <property>
          <name>client-auth</name>
          <value>REQUIRED</value>
        </property>
      </processor>
      <connection>
        <id>5e7da2e1-0163-1000-c3c0-3365c5b4cb8b</id>
        <name/>
        <bendPoints>
          <bendPoint x="1484.6731741842975" y="-76.33684730234859"/>
          <bendPoint x="1540.6731741842975" y="-26.336847302348588"/>
        </bendPoints>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>5e62f804-0163-1000-18ea-70da8664cfd0</sourceId>
        <sourceGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>5e62f804-0163-1000-18ea-70da8664cfd0</destinationId>
        <destinationGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>failure</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>fe5526c6-016b-1000-e035-262394f09ebb</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>fe47dd7d-016b-1000-54bc-60debdada912</sourceId>
        <sourceGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>4e6785e3-0163-1000-d555-63c86866c915</destinationId>
        <destinationGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>failure</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>5e7b7a57-0163-1000-e9ad-2e2b7d47e16e</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>5e62f804-0163-1000-18ea-70da8664cfd0</sourceId>
        <sourceGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>5e7b1a3d-0163-1000-92bd-215d0d973049</destinationId>
        <destinationGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>4e685590-0163-1000-c399-4e6f531adf22</id>
        <name/>
        <bendPoints>
          <bendPoint x="817.8736572265625" y="656.9297790527344"/>
          <bendPoint x="769.3555297851562" y="549.23828125"/>
        </bendPoints>
        <labelIndex>0</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>4e5db836-0163-1000-1118-1b4cbc65e367</sourceId>
        <sourceGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>4e5db836-0163-1000-1118-1b4cbc65e367</destinationId>
        <destinationGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>retry</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>ebeda35f-0168-1000-3a8c-4562f3635f1e</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>5e7b1a3d-0163-1000-92bd-215d0d973049</sourceId>
        <sourceGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>5ea1e9b1-0163-1000-d88e-eecbd44bb920</destinationId>
        <destinationGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>other_containers</relationship>
        <relationship>unmatched</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>fe554e7e-016b-1000-bbaa-362f4fcc5857</id>
        <name/>
        <bendPoints>
          <bendPoint x="1687.1265878046115" y="550.9705805103633"/>
          <bendPoint x="1705.1265878046115" y="654.9705805103633"/>
        </bendPoints>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>fe47dd7d-016b-1000-54bc-60debdada912</sourceId>
        <sourceGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>fe47dd7d-016b-1000-54bc-60debdada912</destinationId>
        <destinationGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>retry</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>ebece362-0168-1000-8c10-86a9855a0684</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>5e7b1a3d-0163-1000-92bd-215d0d973049</sourceId>
        <sourceGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>4e5db836-0163-1000-1118-1b4cbc65e367</destinationId>
        <destinationGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>nifi_container</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>fe55add5-016b-1000-cad2-7891c68c1f9c</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>5e7b1a3d-0163-1000-92bd-215d0d973049</sourceId>
        <sourceGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>fe47dd7d-016b-1000-54bc-60debdada912</destinationId>
        <destinationGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>nifi_container</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>5e63bdec-0163-1000-318b-fc5649bda14b</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>4e5b2c92-0163-1000-7a79-8d3988c15bdc</sourceId>
        <sourceGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>5e62f804-0163-1000-18ea-70da8664cfd0</destinationId>
        <destinationGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>success</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <connection>
        <id>fe53e3f7-016b-1000-87a7-cd58c3380cc9</id>
        <name/>
        <bendPoints/>
        <labelIndex>1</labelIndex>
        <zIndex>0</zIndex>
        <sourceId>4e5db836-0163-1000-1118-1b4cbc65e367</sourceId>
        <sourceGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</sourceGroupId>
        <sourceType>PROCESSOR</sourceType>
        <destinationId>4e6785e3-0163-1000-d555-63c86866c915</destinationId>
        <destinationGroupId>4e5add98-0163-1000-37c6-a81f1b8d947e</destinationGroupId>
        <destinationType>PROCESSOR</destinationType>
        <relationship>failure</relationship>
        <maxWorkQueueSize>10000</maxWorkQueueSize>
        <maxWorkQueueDataSize>1 GB</maxWorkQueueDataSize>
        <flowFileExpiration>0 sec</flowFileExpiration>
        <loadBalanceStrategy>DO_NOT_LOAD_BALANCE</loadBalanceStrategy>
        <partitioningAttribute/>
        <loadBalanceCompression>DO_NOT_COMPRESS</loadBalanceCompression>
      </connection>
      <controllerService>
        <id>4e5d390f-0163-1000-cdc5-67622a91c9ab</id>
        <name>InfluxLineProtocolReader</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.influxdata.nifi.serialization.InfluxLineProtocolReader</class>
        <bundle>
          <group>org.influxdata.nifi</group>
          <artifact>nifi-influx-database-nar</artifact>
          <version>1.25.0-SNAPSHOT</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>line-protocol-character-set</name>
          <value>UTF-8</value>
        </property>
      </controllerService>
      <controllerService>
        <id>5e4bb7e4-0163-1000-c871-4f26729c7d2a</id>
        <name>JsonRecordSetWriter</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.json.JsonRecordSetWriter</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-record-serialization-services-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>false</enabled>
        <property>
          <name>Schema Write Strategy</name>
          <value>schema-name</value>
        </property>
        <property>
          <name>schema-cache</name>
        </property>
        <property>
          <name>schema-protocol-version</name>
          <value>1</value>
        </property>
        <property>
          <name>schema-access-strategy</name>
          <value>inherit-record-schema</value>
        </property>
        <property>
          <name>schema-registry</name>
        </property>
        <property>
          <name>schema-name</name>
          <value>${schema.name}</value>
        </property>
        <property>
          <name>schema-version</name>
        </property>
        <property>
          <name>schema-branch</name>
        </property>
        <property>
          <name>schema-text</name>
          <value>${avro.schema}</value>
        </property>
        <property>
          <name>Date Format</name>
        </property>
        <property>
          <name>Time Format</name>
        </property>
        <property>
          <name>Timestamp Format</name>
        </property>
        <property>
          <name>Pretty Print JSON</name>
          <value>false</value>
        </property>
        <property>
          <name>suppress-nulls</name>
          <value>never-suppress</value>
        </property>
        <property>
          <name>output-grouping</name>
          <value>output-array</value>
        </property>
        <property>
          <name>compression-format</name>
          <value>none</value>
        </property>
        <property>
          <name>compression-level</name>
          <value>1</value>
        </property>
      </controllerService>
      <controllerService>
        <id>4e5c0c97-0163-1000-54a6-5c1fd2473b42</id>
        <name>AvroRecordSetWriter</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.avro.AvroRecordSetWriter</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-record-serialization-services-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>Schema Write Strategy</name>
          <value>avro-embedded</value>
        </property>
        <property>
          <name>schema-cache</name>
        </property>
        <property>
          <name>schema-protocol-version</name>
          <value>1</value>
        </property>
        <property>
          <name>schema-access-strategy</name>
          <value>inherit-record-schema</value>
        </property>
        <property>
          <name>schema-registry</name>
        </property>
        <property>
          <name>schema-name</name>
          <value>${schema.name}</value>
        </property>
        <property>
          <name>schema-version</name>
        </property>
        <property>
          <name>schema-branch</name>
        </property>
        <property>
          <name>schema-text</name>
          <value>${avro.schema}</value>
        </property>
        <property>
          <name>compression-format</name>
          <value>NONE</value>
        </property>
        <property>
          <name>cache-size</name>
          <value>1000</value>
        </property>
        <property>
          <name>encoder-pool-size</name>
          <value>32</value>
        </property>
      </controllerService>
      <controllerService>
        <id>4e5e71b8-0163-1000-1b27-632f18180d23</id>
        <name>AvroReader</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.apache.nifi.avro.AvroReader</class>
        <bundle>
          <group>org.apache.nifi</group>
          <artifact>nifi-record-serialization-services-nar</artifact>
          <version>1.23.0</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>schema-access-strategy</name>
          <value>embedded-avro-schema</value>
        </property>
        <property>
          <name>schema-registry</name>
        </property>
        <property>
          <name>schema-name</name>
          <value>${schema.name}</value>
        </property>
        <property>
          <name>schema-version</name>
        </property>
        <property>
          <name>schema-branch</name>
        </property>
        <property>
          <name>schema-text</name>
          <value>${avro.schema}</value>
        </property>
        <property>
          <name>cache-size</name>
          <value>1000</value>
        </property>
      </controllerService>
      <controllerService>
        <id>4e5f049b-0163-1000-382d-fa0c6125d08d</id>
        <name>StandardInfluxDBService</name>
        <comment/>
        <bulletinLevel>WARN</bulletinLevel>
        <class>org.influxdata.nifi.services.StandardInfluxDatabaseService</class>
        <bundle>
          <group>org.influxdata.nifi</group>
          <artifact>nifi-influx-database-nar</artifact>
          <version>1.25.0-SNAPSHOT</version>
        </bundle>
        <enabled>true</enabled>
        <property>
          <name>inluxdb-ssl</name>
        </property>
        <property>
          <name>inluxdb-ssl-auth</name>
          <value>REQUIRED</value>
        </property>
        <property>
          <name>influxdb-url</name>
          <value>http://influxdb:8086</value>
        </property>
        <property>
          <name>influxdb-connection-timeout</name>
          <value>0 seconds</value>
        </property>
        <property>
          <name>influxdb-username</name>
        </property>
        <property>
          <name>influxdb-password</name>
        </property>
        <property>
          <name>influxdb-client-type</name>
        </property>
      </controllerService>
    </processGroup>
    <controllerService>
      <id>fe4e410d-016b-1000-f0e5-c2e5647eb06b</id>
      <name>StandardInfluxDatabaseService_2</name>
      <comment/>
      <bulletinLevel>WARN</bulletinLevel>
      <class>org.influxdata.nifi.services.StandardInfluxDatabaseService_2</class>
      <bundle>
        <group>org.influxdata.nifi</group>
        <artifact>nifi-influx-database-nar</artifact>
        <version>1.25.0-SNAPSHOT</version>
      </bundle>
      <enabled>true</enabled>
      <property>
        <name>inluxdb-ssl</name>
      </property>
      <property>
        <name>inluxdb-ssl-auth</name>
        <value>REQUIRED</value>
      </property>
      <property>
        <name>influxdb-url</name>
        <value>http://influxdb_v2:9999</value>
      </property>
      <property>
        <name>influxdb-connection-timeout</name>
        <value>0 seconds</value>
      </property>
      <property>
        <name>influxdb-token</name>
        <value>enc{70d94bcea3a6b782833e229824961758bac70f2eb8a9f134871d1f9489ac0814336e550b3e9b85d4}</value>
      </property>
      <property>
        <name>influxdb-client-type</name>
      </property>
    </controllerService>
    <controllerService>
      <id>d764d87d-0162-1000-f939-e92ae75435c5</id>
      <name>TwitterJSONReader</name>
      <comment/>
      <bulletinLevel>WARN</bulletinLevel>
      <class>org.apache.nifi.json.JsonPathReader</class>
      <bundle>
        <group>org.apache.nifi</group>
        <artifact>nifi-record-serialization-services-nar</artifact>
        <version>1.23.0</version>
      </bundle>
      <enabled>true</enabled>
      <property>
        <name>schema-access-strategy</name>
        <value>schema-text-property</value>
      </property>
      <property>
        <name>schema-registry</name>
      </property>
      <property>
        <name>schema-name</name>
        <value>${schema.name}</value>
      </property>
      <property>
        <name>schema-version</name>
      </property>
      <property>
        <name>schema-branch</name>
      </property>
      <property>
        <name>schema-text</name>
        <value>{
  "type": "record",
  "name": "twitter_schema",
  "namespace": "io.bonitoo.nifi",
  "doc:" : "AVRO scheme for Tweets",
  "fields": [
    {
      "name": "id",
      "type": "long"
    },
    {
      "name": "text",
      "type": "string"
    },
    {
      "name": "lang",
      "type": "string"
    },
    {
      "name": "keyword",
      "type": "string"
    },
    {
      "name": "retweet_count",
      "type": "int"
    },
    {
      "name": "tweet_id",
      "type": "string"
    },
    {
      "name": "followers_count",
      "type": "int"
    },
    {
      "name": "screen_name",
      "type": "string"
    },
    {
      "name": "friends_count",
      "type": "int"
    },
    {
      "name": "favourites_count",
      "type": "int"
    },
    {
      "name": "user_verified",
      "type": "boolean"
    },
    {
      "name": "timestamp",
      "type" : {
        "type" : "long",
        "logicalType" : "timestamp-millis"
      }
    }
  ]
}</value>
      </property>
      <property>
        <name>Date Format</name>
      </property>
      <property>
        <name>Time Format</name>
      </property>
      <property>
        <name>Timestamp Format</name>
        <value>EEE MMM dd HH:mm:ss ZZZZZ yyyy</value>
      </property>
      <property>
        <name>user_verified</name>
        <value>$.user.verified</value>
      </property>
      <property>
        <name>favourites_count</name>
        <value>$.user.favourites_count</value>
      </property>
      <property>
        <name>keyword</name>
        <value>$.entities.hashtags[0].text</value>
      </property>
      <property>
        <name>timestamp</name>
        <value>$.created_at</value>
      </property>
      <property>
        <name>followers_count</name>
        <value>$.user.followers_count</value>
      </property>
      <property>
        <name>screen_name</name>
        <value>$.user.screen_name</value>
      </property>
      <property>
        <name>friends_count</name>
        <value>$.user.friends_count</value>
      </property>
      <property>
        <name>text</name>
        <value>$.text</value>
      </property>
      <property>
        <name>retweet_count</name>
        <value>$.retweet_count</value>
      </property>
      <property>
        <name>id</name>
        <value>$.id</value>
      </property>
      <property>
        <name>lang</name>
        <value>$.lang</value>
      </property>
      <property>
        <name>tweet_id</name>
        <value>$.id_str</value>
      </property>
    </controllerService>
    <template encoding-version="1.2">

      <description/>

      <id>1db98c35-40c6-4be8-82bb-695f1fc8fec6</id>

      <name>Twitter</name>

      <snippet>

        <connections>

          <id>41467289-fb0e-3d07-0000-000000000000</id>

          <parentGroupId>a002184c-7cce-3568-0000-000000000000</parentGroupId>

          <backPressureDataSizeThreshold>1 GB</backPressureDataSizeThreshold>

          <backPressureObjectThreshold>10000</backPressureObjectThreshold>

          <destination>

            <groupId>a002184c-7cce-3568-0000-000000000000</groupId>

            <id>a8991a21-2983-3e20-0000-000000000000</id>

            <type>PROCESSOR</type>

          </destination>

          <flowFileExpiration>0 sec</flowFileExpiration>

          <labelIndex>1</labelIndex>

          <name/>

          <selectedRelationships>success</selectedRelationships>

          <source>

            <groupId>a002184c-7cce-3568-0000-000000000000</groupId>

            <id>e0c6ebeb-b96c-33a4-0000-000000000000</id>

            <type>PROCESSOR</type>

          </source>

          <zIndex>0</zIndex>

        </connections>

        <processors>

          <id>a8991a21-2983-3e20-0000-000000000000</id>

          <parentGroupId>a002184c-7cce-3568-0000-000000000000</parentGroupId>

          <position>

            <x>691.6084365940947</x>

            <y>0.0</y>

          </position>

          <bundle>

            <artifact>nifi-standard-nar</artifact>

            <group>org.apache.nifi</group>

            <version>1.11.4</version>

          </bundle>

          <config>

            <bulletinLevel>WARN</bulletinLevel>

            <comments/>

            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>

            <descriptors>

              <entry>

                <key>Group</key>

                <value>

                  <name>Group</name>

                </value>

              </entry>

              <entry>

                <key>Owner</key>

                <value>

                  <name>Owner</name>

                </value>

              </entry>

              <entry>

                <key>Create Missing Directories</key>

                <value>

                  <name>Create Missing Directories</name>

                </value>

              </entry>

              <entry>

                <key>Permissions</key>

                <value>

                  <name>Permissions</name>

                </value>

              </entry>

              <entry>

                <key>Maximum File Count</key>

                <value>

                  <name>Maximum File Count</name>

                </value>

              </entry>

              <entry>

                <key>Last Modified Time</key>

                <value>

                  <name>Last Modified Time</name>

                </value>

              </entry>

              <entry>

                <key>Directory</key>

                <value>

                  <name>Directory</name>

                </value>

              </entry>

              <entry>

                <key>Conflict Resolution Strategy</key>

                <value>

                  <name>Conflict Resolution Strategy</name>

                </value>

              </entry>

            </descriptors>

            <executionNode>ALL</executionNode>

            <lossTolerant>false</lossTolerant>

            <penaltyDuration>30 sec</penaltyDuration>

            <properties>

              <entry>

                <key>Group</key>

              </entry>

              <entry>

                <key>Owner</key>

              </entry>

              <entry>

                <key>Create Missing Directories</key>

                <value>true</value>

              </entry>

              <entry>

                <key>Permissions</key>

              </entry>

              <entry>

                <key>Maximum File Count</key>

              </entry>

              <entry>

                <key>Last Modified Time</key>

              </entry>

              <entry>

                <key>Directory</key>

                <value>/opt/nifi/put-err/</value>

              </entry>

              <entry>

                <key>Conflict Resolution Strategy</key>

                <value>replace</value>

              </entry>

            </properties>

            <runDurationMillis>0</runDurationMillis>

            <schedulingPeriod>0 sec</schedulingPeriod>

            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>

            <yieldDuration>1 sec</yieldDuration>

          </config>

          <deprecated>false</deprecated>

          <name>PutFile</name>

          <relationships>

            <autoTerminate>true</autoTerminate>

            <name>failure</name>

          </relationships>

          <relationships>

            <autoTerminate>true</autoTerminate>

            <name>success</name>

          </relationships>

          <restricted>true</restricted>

          <state>RUNNING</state>

          <style/>

          <type>org.apache.nifi.processors.standard.PutFile</type>

        </processors>

        <processors>

          <id>e0c6ebeb-b96c-33a4-0000-000000000000</id>

          <parentGroupId>a002184c-7cce-3568-0000-000000000000</parentGroupId>

          <position>

            <x>0.0</x>

            <y>0.9513284178629817</y>

          </position>

          <bundle>

            <artifact>nifi-social-media-nar</artifact>

            <group>org.apache.nifi</group>

            <version>1.11.4</version>

          </bundle>

          <config>

            <bulletinLevel>WARN</bulletinLevel>

            <comments/>

            <concurrentlySchedulableTaskCount>1</concurrentlySchedulableTaskCount>

            <descriptors>

              <entry>

                <key>Consumer Key</key>

                <value>

                  <name>Consumer Key</name>

                </value>

              </entry>

              <entry>

                <key>Consumer Secret</key>

                <value>

                  <name>Consumer Secret</name>

                </value>

              </entry>

              <entry>

                <key>Languages</key>

                <value>

                  <name>Languages</name>

                </value>

              </entry>

              <entry>

                <key>IDs to Follow</key>

                <value>

                  <name>IDs to Follow</name>

                </value>

              </entry>

              <entry>

                <key>Twitter Endpoint</key>

                <value>

                  <name>Twitter Endpoint</name>

                </value>

              </entry>

              <entry>

                <key>Locations to Filter On</key>

                <value>

                  <name>Locations to Filter On</name>

                </value>

              </entry>

              <entry>

                <key>Terms to Filter On</key>

                <value>

                  <name>Terms to Filter On</name>

                </value>

              </entry>

            </descriptors>

            <executionNode>ALL</executionNode>

            <lossTolerant>false</lossTolerant>

            <penaltyDuration>30 sec</penaltyDuration>

            <properties>

              <entry>

                <key>Languages</key>

              </entry>

              <entry>

                <key>IDs to Follow</key>

              </entry>

              <entry>

                <key>Twitter Endpoint</key>

                <value>Filter Endpoint</value>

              </entry>

              <entry>

                <key>Locations to Filter On</key>

              </entry>

              <entry>

                <key>Terms to Filter On</key>

                <value>nifi,hadoop,hortonworks,elasticsearch</value>

              </entry>

            </properties>

            <runDurationMillis>0</runDurationMillis>

            <schedulingPeriod>0 sec</schedulingPeriod>

            <schedulingStrategy>TIMER_DRIVEN</schedulingStrategy>

            <yieldDuration>1 sec</yieldDuration>

          </config>

          <deprecated>false</deprecated>

          <name>GetTwitter</name>

          <relationships>

            <autoTerminate>false</autoTerminate>

            <name>success</name>

          </relationships>

          <restricted>false</restricted>

          <state>RUNNING</state>

          <style/>

          <type>org.apache.nifi.processors.twitter.GetTwitter</type>

        </processors>

      </snippet>

      <timestamp>04/17/2018 12:13:51 UTC</timestamp>

    </template>
  </rootGroup>
  <controllerServices/>
  <reportingTasks/>
  <parameterProviders/>
</flowController>
